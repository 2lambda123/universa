<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Tue May 08 07:24:57 PDT 2018 -->
<title>ExtendedSignature (universa_core 1.0-SNAPSHOT API)</title>
<meta name="date" content="2018-05-08">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ExtendedSignature (universa_core 1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":9,"i8":9,"i9":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/icodici/universa/contract/Envelope.html" title="class in com.icodici.universa.contract"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/icodici/universa/contract/InnerContractsService.html" title="class in com.icodici.universa.contract"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/icodici/universa/contract/ExtendedSignature.html" target="_top">Frames</a></li>
<li><a href="ExtendedSignature.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.icodici.universa.contract</div>
<h2 title="Class ExtendedSignature" class="title">Class ExtendedSignature</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.icodici.universa.contract.ExtendedSignature</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ExtendedSignature</span>
extends java.lang.Object</pre>
<div class="block">The extended signature signs the resource with sha512, timestamp and 32-byte key id, see <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId"><code>keyId</code></a>. The signed
 timestamp seals the signature creation time. The whole extended signature then is signed by the provided private key.
 This not only provides timestamps in signatures, but also repels theoretically possible chosen-text type attacks on
 source documents, as actual signature is calculated twice and includes timestamp.
 <p>
 Use <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId"><code>keyId</code></a> to get an id of a public or private key (for a keypair, the id is the same for both private and
 public key).
 <p>
 Use <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#extractKeyId-byte:A-"><code>extractKeyId(byte[])</code></a> to get key id from a packed signature.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#ExtendedSignature--">ExtendedSignature</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static net.sergeych.utils.Bytes</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#extractKeyId-byte:A-">extractKeyId</a></span>(byte[]&nbsp;signature)</code>
<div class="block">Get the keyId (see <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId"><code>keyId</code></a>) from a packed binary signature.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static com.icodici.crypto.PublicKey</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#extractPublicKey-byte:A-">extractPublicKey</a></span>(byte[]&nbsp;signature)</code>
<div class="block">Get the keyId (see <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId"><code>keyId</code></a>) from a packed binary signature.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.time.ZonedDateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#getCreatedAt--">getCreatedAt</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>net.sergeych.utils.Bytes</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#getKeyId--">getKeyId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>com.icodici.crypto.PublicKey</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#getPublicKey--">getPublicKey</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#getSignature--">getSignature</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static net.sergeych.utils.Bytes</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId-com.icodici.crypto.AbstractKey-">keyId</a></span>(com.icodici.crypto.AbstractKey&nbsp;key)</code>
<div class="block">Calculate keyId for a given key (should be either <code>PublicKey</code> or <code>PrivateKey</code>).</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#sign-com.icodici.crypto.PrivateKey-byte:A-">sign</a></span>(com.icodici.crypto.PrivateKey&nbsp;key,
    byte[]&nbsp;data)</code>
<div class="block">Sign the data with a given key.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#sign-com.icodici.crypto.PrivateKey-byte:A-boolean-">sign</a></span>(com.icodici.crypto.PrivateKey&nbsp;key,
    byte[]&nbsp;data,
    boolean&nbsp;savePublicKey)</code>
<div class="block">Sign the data with a given key.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html" title="class in com.icodici.universa.contract">ExtendedSignature</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#verify-com.icodici.crypto.PublicKey-byte:A-byte:A-">verify</a></span>(com.icodici.crypto.PublicKey&nbsp;key,
      byte[]&nbsp;signature,
      byte[]&nbsp;data)</code>
<div class="block">Unpack and the extended signature.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ExtendedSignature--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ExtendedSignature</h4>
<pre>public&nbsp;ExtendedSignature()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getKeyId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyId</h4>
<pre>public&nbsp;net.sergeych.utils.Bytes&nbsp;getKeyId()</pre>
</li>
</ul>
<a name="getCreatedAt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreatedAt</h4>
<pre>public&nbsp;java.time.ZonedDateTime&nbsp;getCreatedAt()</pre>
</li>
</ul>
<a name="getPublicKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPublicKey</h4>
<pre>public&nbsp;com.icodici.crypto.PublicKey&nbsp;getPublicKey()</pre>
</li>
</ul>
<a name="sign-com.icodici.crypto.PrivateKey-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sign</h4>
<pre>public static&nbsp;byte[]&nbsp;sign(com.icodici.crypto.PrivateKey&nbsp;key,
                          byte[]&nbsp;data)</pre>
<div class="block">Sign the data with a given key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - is <code>PrivateKey</code> to sign with</dd>
<dd><code>data</code> - to be sign with key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>binary signature</dd>
</dl>
</li>
</ul>
<a name="sign-com.icodici.crypto.PrivateKey-byte:A-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sign</h4>
<pre>public static&nbsp;byte[]&nbsp;sign(com.icodici.crypto.PrivateKey&nbsp;key,
                          byte[]&nbsp;data,
                          boolean&nbsp;savePublicKey)</pre>
<div class="block">Sign the data with a given key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - is <code>PrivateKey</code> to sign with.</dd>
<dd><code>data</code> - to be sign with key.</dd>
<dd><code>savePublicKey</code> - if true key will stored in the <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html" title="class in com.icodici.universa.contract"><code>ExtendedSignature</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>binary signature</dd>
</dl>
</li>
</ul>
<a name="keyId-com.icodici.crypto.AbstractKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyId</h4>
<pre>public static&nbsp;net.sergeych.utils.Bytes&nbsp;keyId(com.icodici.crypto.AbstractKey&nbsp;key)</pre>
<div class="block">Calculate keyId for a given key (should be either <code>PublicKey</code> or <code>PrivateKey</code>). the keyId is the same
 for public and private key and can be used to store/access keys in Map (<code>Bytes</code> instances can be used as
 Map keys.
 <p>
 Use <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#extractKeyId-byte:A-"><code>extractKeyId(byte[])</code></a> to get a keyId from a packed extended signature, find the proper key, than
 <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#verify-com.icodici.crypto.PublicKey-byte:A-byte:A-"><code>verify(PublicKey, byte[], byte[])</code></a> the data. It uses corresponding <code>PublicKey.fingerprint()</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - key to calculate Id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>calculated key id</dd>
</dl>
</li>
</ul>
<a name="extractKeyId-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractKeyId</h4>
<pre>public static&nbsp;net.sergeych.utils.Bytes&nbsp;extractKeyId(byte[]&nbsp;signature)</pre>
<div class="block">Get the keyId (see <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId"><code>keyId</code></a>) from a packed binary signature. This method can be used to find proper public
 key when signing with several keys.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>signature</code> - to extrack keyId from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the keyId instance as <code>Bytes</code></dd>
</dl>
</li>
</ul>
<a name="extractPublicKey-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractPublicKey</h4>
<pre>public static&nbsp;com.icodici.crypto.PublicKey&nbsp;extractPublicKey(byte[]&nbsp;signature)</pre>
<div class="block">Get the keyId (see <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#keyId"><code>keyId</code></a>) from a packed binary signature. This method can be used to find proper public
 key when signing with several keys.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>signature</code> - to extrack keyId from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the keyId instance as <code>Bytes</code></dd>
</dl>
</li>
</ul>
<a name="getSignature--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSignature</h4>
<pre>public&nbsp;byte[]&nbsp;getSignature()</pre>
</li>
</ul>
<a name="verify-com.icodici.crypto.PublicKey-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>verify</h4>
<pre>public static&nbsp;<a href="../../../../com/icodici/universa/contract/ExtendedSignature.html" title="class in com.icodici.universa.contract">ExtendedSignature</a>&nbsp;verify(com.icodici.crypto.PublicKey&nbsp;key,
                                       byte[]&nbsp;signature,
                                       byte[]&nbsp;data)</pre>
<div class="block">Unpack and the extended signature. On success, returns instance of the <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html" title="class in com.icodici.universa.contract"><code>ExtendedSignature</code></a> with a decoded
 timestamp, <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html#getCreatedAt--"><code>getCreatedAt()</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - to verify signature with</dd>
<dd><code>signature</code> - the binary extended signature</dd>
<dd><code>data</code> - signed data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if the signature is invalud, <a href="../../../../com/icodici/universa/contract/ExtendedSignature.html" title="class in com.icodici.universa.contract"><code>ExtendedSignature</code></a> instance on success.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/icodici/universa/contract/Envelope.html" title="class in com.icodici.universa.contract"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/icodici/universa/contract/InnerContractsService.html" title="class in com.icodici.universa.contract"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/icodici/universa/contract/ExtendedSignature.html" target="_top">Frames</a></li>
<li><a href="ExtendedSignature.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

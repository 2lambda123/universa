<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Thu Mar 01 03:37:35 PST 2018 -->
<title>SqliteLedger (universa_core 1.0-SNAPSHOT API)</title>
<meta name="date" content="2018-03-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SqliteLedger (universa_core 1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/icodici/universa/node/RateCounter.TimeSlot.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/icodici/universa/node/SqliteLedger.html" target="_top">Frames</a></li>
<li><a href="SqliteLedger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.icodici.universa.node</div>
<h2 title="Class SqliteLedger" class="title">Class SqliteLedger</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.icodici.universa.node.SqliteLedger</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">SqliteLedger</span>
extends java.lang.Object
implements <a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></pre>
<div class="block">The basic SQL-based ledger.
 <p>
 This implementation uses SQLite, but could be easily enhanced to use any jdbc provider.
 <p>
 Created by sergeych on 16/07/2017.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.icodici.universa.node.Ledger">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.icodici.universa.node.<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></h3>
<code><a href="../../../../com/icodici/universa/node/Ledger.Failure.html" title="class in com.icodici.universa.node">Ledger.Failure</a>, <a href="../../../../com/icodici/universa/node/Ledger.Rollback.html" title="class in com.icodici.universa.node">Ledger.Rollback</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#SqliteLedger-java.lang.String-">SqliteLedger</a></span>(java.lang.String&nbsp;connectionString)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#addNode-com.icodici.universa.node2.NodeInfo-">addNode</a></span>(<a href="../../../../com/icodici/universa/node2/NodeInfo.html" title="class in com.icodici.universa.node2">NodeInfo</a>&nbsp;nodeInfo)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#createOutputLockRecord-long-com.icodici.universa.HashId-">createOutputLockRecord</a></span>(long&nbsp;creatorRecordId,
                      <a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;newItemHashId)</code>
<div class="block">Create a record in <a href="../../../../com/icodici/universa/node/ItemState.html#LOCKED_FOR_CREATION"><code>ItemState.LOCKED_FOR_CREATION</code></a> state locked by creatorRecordId.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#destroy-com.icodici.universa.node.StateRecord-">destroy</a></span>(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;record)</code>
<div class="block">Destroy the record and free space in the ledger.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#enableCache-boolean-">enableCache</a></span>(boolean&nbsp;enable)</code>
<div class="block">Enable or disable records caching.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#findOrCreate-com.icodici.universa.HashId-">findOrCreate</a></span>(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;itemId)</code>
<div class="block">Create new record for a given id and set it to the PENDING state.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>com.icodici.db.Db</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#getDb--">getDb</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#getLockOwnerOf-com.icodici.universa.node.StateRecord-">getLockOwnerOf</a></span>(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;rc)</code>
<div class="block">Get the record that owns the lock.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#getRecord-com.icodici.universa.HashId-">getRecord</a></span>(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;itemId)</code>
<div class="block">Get the record by its id</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.Object[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#loadConfig--">loadConfig</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#reload-com.icodici.universa.node.StateRecord-">reload</a></span>(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;stateRecord)</code>
<div class="block">Refresh record.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#removeNode-com.icodici.universa.node2.NodeInfo-">removeNode</a></span>(<a href="../../../../com/icodici/universa/node2/NodeInfo.html" title="class in com.icodici.universa.node2">NodeInfo</a>&nbsp;nodeInfo)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#save-com.icodici.universa.node.StateRecord-">save</a></span>(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;stateRecord)</code>
<div class="block">save a record into the ledger</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#saveConfig-com.icodici.universa.node2.NodeInfo-com.icodici.universa.node2.NetConfig-com.icodici.crypto.PrivateKey-">saveConfig</a></span>(<a href="../../../../com/icodici/universa/node2/NodeInfo.html" title="class in com.icodici.universa.node2">NodeInfo</a>&nbsp;myInfo,
          <a href="../../../../com/icodici/universa/node2/NetConfig.html" title="class in com.icodici.universa.node2">NetConfig</a>&nbsp;netConfig,
          com.icodici.crypto.PrivateKey&nbsp;nodeKey)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/SqliteLedger.html#transaction-java.util.concurrent.Callable-">transaction</a></span>(java.util.concurrent.Callable&lt;T&gt;&nbsp;callable)</code>
<div class="block">Perform a callable in a transaction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.icodici.universa.node.Ledger">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.icodici.universa.node.<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></h3>
<code><a href="../../../../com/icodici/universa/node/Ledger.html#countRecords--">countRecords</a>, <a href="../../../../com/icodici/universa/node/Ledger.html#getLockOwnerOf-com.icodici.universa.HashId-">getLockOwnerOf</a>, <a href="../../../../com/icodici/universa/node/Ledger.html#isApproved-com.icodici.universa.HashId-">isApproved</a>, <a href="../../../../com/icodici/universa/node/Ledger.html#isConsensusFound-com.icodici.universa.HashId-">isConsensusFound</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SqliteLedger-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SqliteLedger</h4>
<pre>public&nbsp;SqliteLedger(java.lang.String&nbsp;connectionString)
             throws java.sql.SQLException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getRecord-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecord</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;getRecord(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;itemId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#getRecord-com.icodici.universa.HashId-">Ledger</a></code></span></div>
<div class="block">Get the record by its id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#getRecord-com.icodici.universa.HashId-">getRecord</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>itemId</code> - to retreive</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>instance or null if not found</dd>
</dl>
</li>
</ul>
<a name="createOutputLockRecord-long-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOutputLockRecord</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;createOutputLockRecord(long&nbsp;creatorRecordId,
                                          <a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;newItemHashId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#createOutputLockRecord-long-com.icodici.universa.HashId-">Ledger</a></code></span></div>
<div class="block">Create a record in <a href="../../../../com/icodici/universa/node/ItemState.html#LOCKED_FOR_CREATION"><code>ItemState.LOCKED_FOR_CREATION</code></a> state locked by creatorRecordId. Does not check
 anything, the business logic of it is in the <a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node"><code>StateRecord</code></a>. Still, if a database logic prevents creation of
 a lock record (e.g. hash is already in use), it must return null.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#createOutputLockRecord-long-com.icodici.universa.HashId-">createOutputLockRecord</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>creatorRecordId</code> - record that want to create new item</dd>
<dd><code>newItemHashId</code> - new item hash</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ready saved instance or null if it can not be created (e.g. already exists)</dd>
</dl>
</li>
</ul>
<a name="getLockOwnerOf-com.icodici.universa.node.StateRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLockOwnerOf</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;getLockOwnerOf(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;rc)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#getLockOwnerOf-com.icodici.universa.node.StateRecord-">Ledger</a></code></span></div>
<div class="block">Get the record that owns the lock. This method should only return the record, not analyze it or somehow process. Still
 it never returns expired records. Note that <b>caller must clear the lock</b> if this method returns null.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#getLockOwnerOf-com.icodici.universa.node.StateRecord-">getLockOwnerOf</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rc</code> - locked record.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the record or null if none found</dd>
</dl>
</li>
</ul>
<a name="findOrCreate-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findOrCreate</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;findOrCreate(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;itemId)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#findOrCreate-com.icodici.universa.HashId-">Ledger</a></code></span></div>
<div class="block">Create new record for a given id and set it to the PENDING state. Normally, it is used to create new root
 documents. If the record exists, it returns it. If the record does not exists, it creates new one with <a href="../../../../com/icodici/universa/node/ItemState.html#PENDING"><code>ItemState.PENDING</code></a> state. The operation must be implemented as atomic.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#findOrCreate-com.icodici.universa.HashId-">findOrCreate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>itemId</code> - hashId to register, or null if it is already in use</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="saveConfig-com.icodici.universa.node2.NodeInfo-com.icodici.universa.node2.NetConfig-com.icodici.crypto.PrivateKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveConfig</h4>
<pre>public&nbsp;void&nbsp;saveConfig(<a href="../../../../com/icodici/universa/node2/NodeInfo.html" title="class in com.icodici.universa.node2">NodeInfo</a>&nbsp;myInfo,
                       <a href="../../../../com/icodici/universa/node2/NetConfig.html" title="class in com.icodici.universa.node2">NetConfig</a>&nbsp;netConfig,
                       com.icodici.crypto.PrivateKey&nbsp;nodeKey)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#saveConfig-com.icodici.universa.node2.NodeInfo-com.icodici.universa.node2.NetConfig-com.icodici.crypto.PrivateKey-">saveConfig</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="loadConfig--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadConfig</h4>
<pre>public&nbsp;java.lang.Object[]&nbsp;loadConfig()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#loadConfig--">loadConfig</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="addNode-com.icodici.universa.node2.NodeInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNode</h4>
<pre>public&nbsp;void&nbsp;addNode(<a href="../../../../com/icodici/universa/node2/NodeInfo.html" title="class in com.icodici.universa.node2">NodeInfo</a>&nbsp;nodeInfo)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#addNode-com.icodici.universa.node2.NodeInfo-">addNode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="removeNode-com.icodici.universa.node2.NodeInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeNode</h4>
<pre>public&nbsp;void&nbsp;removeNode(<a href="../../../../com/icodici/universa/node2/NodeInfo.html" title="class in com.icodici.universa.node2">NodeInfo</a>&nbsp;nodeInfo)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#removeNode-com.icodici.universa.node2.NodeInfo-">removeNode</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="transaction-java.util.concurrent.Callable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transaction</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;transaction(java.util.concurrent.Callable&lt;T&gt;&nbsp;callable)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#transaction-java.util.concurrent.Callable-">Ledger</a></code></span></div>
<div class="block">Perform a callable in a transaction. If the callable throws any exception, the transaction should be rolled back
 to its initial state. Blocks until the callable returns, and returns what the callable returns. If an exception
 is thrown by the callable, the transaction is rolled back and the exception will be rethrown unless it was a
 <a href="../../../../com/icodici/universa/node/Ledger.Rollback.html" title="class in com.icodici.universa.node"><code>Ledger.Rollback</code></a> instance, which just rollbacks the transaction, in which case it always return null.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#transaction-java.util.concurrent.Callable-">transaction</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callable</code> - to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if transaction is rolled back throwing a <a href="../../../../com/icodici/universa/node/Ledger.Rollback.html" title="class in com.icodici.universa.node"><code>Ledger.Rollback</code></a> exception, otherwise what callable
 returns.</dd>
</dl>
</li>
</ul>
<a name="destroy-com.icodici.universa.node.StateRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;record)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#destroy-com.icodici.universa.node.StateRecord-">Ledger</a></code></span></div>
<div class="block">Destroy the record and free space in the ledger.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#destroy-com.icodici.universa.node.StateRecord-">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="save-com.icodici.universa.node.StateRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>public&nbsp;void&nbsp;save(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;stateRecord)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#save-com.icodici.universa.node.StateRecord-">Ledger</a></code></span></div>
<div class="block">save a record into the ledger</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#save-com.icodici.universa.node.StateRecord-">save</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
</dl>
</li>
</ul>
<a name="reload-com.icodici.universa.node.StateRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reload</h4>
<pre>public&nbsp;void&nbsp;reload(<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;stateRecord)
            throws <a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node">StateRecord.NotFoundException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html#reload-com.icodici.universa.node.StateRecord-">Ledger</a></code></span></div>
<div class="block">Refresh record.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/Ledger.html#reload-com.icodici.universa.node.StateRecord-">reload</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node">StateRecord.NotFoundException</a></code></dd>
</dl>
</li>
</ul>
<a name="enableCache-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableCache</h4>
<pre>public&nbsp;void&nbsp;enableCache(boolean&nbsp;enable)</pre>
<div class="block">Enable or disable records caching. USe it in tests only, in production it should always be enabled</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enable</code> - </dd>
</dl>
</li>
</ul>
<a name="getDb--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDb</h4>
<pre>public&nbsp;com.icodici.db.Db&nbsp;getDb()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/icodici/universa/node/RateCounter.TimeSlot.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/icodici/universa/node/SqliteLedger.html" target="_top">Frames</a></li>
<li><a href="SqliteLedger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

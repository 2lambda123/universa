<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Tue Jun 19 10:31:15 CEST 2018 -->
<title>StateRecord (universa_core 1.0-SNAPSHOT API)</title>
<meta name="date" content="2018-06-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StateRecord (universa_core 1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":9,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":9,"i36":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/icodici/universa/node/SqliteLedger.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/icodici/universa/node/StateRecord.html" target="_top">Frames</a></li>
<li><a href="StateRecord.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.icodici.universa.node</div>
<h2 title="Class StateRecord" class="title">Class StateRecord</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.icodici.universa.node.StateRecord</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/icodici/universa/HashIdentifiable.html" title="interface in com.icodici.universa">HashIdentifiable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">StateRecord</span>
extends java.lang.Object
implements <a href="../../../../com/icodici/universa/HashIdentifiable.html" title="interface in com.icodici.universa">HashIdentifiable</a></pre>
<div class="block">The state of some <a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa"><code>HashId</code></a> - identifiable item (e.g. <a href="../../../../com/icodici/universa/Approvable.html" title="interface in com.icodici.universa"><code>Approvable</code></a> to be sotred in the <a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node"><code>Ledger</code></a>
 instance. Use ledger to create instances of this class.
 <p>
 This class incapsulates part of the business-logic of the universa which is tied to the saved state. This class is
 primarily used by the Elections, and LocalNode where most of the business-logic is placed. Direct usage
 of this class should be avoided.
 <p>
 See <a href="../../../../com/icodici/universa/node/ItemState.html" title="enum in com.icodici.universa.node"><code>ItemState</code></a> for states and state graph description.
 <p>
 Created by sergeych on 16/07/2017.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node">StateRecord.NotFoundException</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#StateRecord-com.icodici.universa.HashId-">StateRecord</a></span>(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;id)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#StateRecord-com.icodici.universa.node.Ledger-">StateRecord</a></span>(<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;ledger)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#StateRecord-com.icodici.universa.node.Ledger-java.sql.ResultSet-">StateRecord</a></span>(<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;ledger,
           java.sql.ResultSet&nbsp;rs)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#approve--">approve</a></span>()</code>
<div class="block">Set record to the approved state and saves it.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#createOutputLockRecord-com.icodici.universa.HashId-">createOutputLockRecord</a></span>(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;id)</code>
<div class="block">Create a record, locked for approval, e.g.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#destroy--">destroy</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.time.ZonedDateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getCreatedAt--">getCreatedAt</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.time.ZonedDateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getExpiresAt--">getExpiresAt</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getId--">getId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getLedger--">getLedger</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getLockedByRecordId--">getLockedByRecordId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getRecordId--">getRecordId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/ItemState.html" title="enum in com.icodici.universa.node">ItemState</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getState--">getState</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static java.time.ZonedDateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#getTime-long-">getTime</a></span>(long&nbsp;unixTime)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#initFrom-java.sql.ResultSet-">initFrom</a></span>(java.sql.ResultSet&nbsp;rs)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isApproved--">isApproved</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isArchived--">isArchived</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isDeclined--">isDeclined</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isDirty--">isDirty</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isExpired--">isExpired</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isLocked--">isLocked</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isNegative--">isNegative</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isPending--">isPending</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#isPositive--">isPositive</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#lockToRevoke-com.icodici.universa.HashId-">lockToRevoke</a></span>(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;idToRevoke)</code>
<div class="block">Lock the item with a given it as being revoked by this one.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#markTestRecord--">markTestRecord</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#reload--">reload</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#revoke--">revoke</a></span>()</code>
<div class="block">Set the record to the archiver (e.g.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#save--">save</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setCreatedAt-java.time.ZonedDateTime-">setCreatedAt</a></span>(@NonNull java.time.ZonedDateTime&nbsp;createdAt)</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setDirty--">setDirty</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setExpiresAt-java.time.ZonedDateTime-">setExpiresAt</a></span>(@NonNull java.time.ZonedDateTime&nbsp;expiresAt)</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setId-com.icodici.universa.HashId-">setId</a></span>(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;id)</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setLedger-com.icodici.universa.node.Ledger-">setLedger</a></span>(<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;ledger)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setLockedByRecordId-long-">setLockedByRecordId</a></span>(long&nbsp;lockedByRecordId)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setRecordId-long-">setRecordId</a></span>(long&nbsp;recordId)</code>
<div class="block">Update recordId.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#setState-com.icodici.universa.node.ItemState-">setState</a></span>(<a href="../../../../com/icodici/universa/node/ItemState.html" title="enum in com.icodici.universa.node">ItemState</a>&nbsp;newState)</code>&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#unixTime-java.time.ZonedDateTime-">unixTime</a></span>(java.time.ZonedDateTime&nbsp;time)</code>&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code><a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/icodici/universa/node/StateRecord.html#unlock--">unlock</a></span>()</code>
<div class="block">Unlock the record if it was in a locked state, does nothing otherwise.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StateRecord-com.icodici.universa.node.Ledger-java.sql.ResultSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateRecord</h4>
<pre>public&nbsp;StateRecord(<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;ledger,
                   java.sql.ResultSet&nbsp;rs)
            throws java.sql.SQLException,
                   java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="StateRecord-com.icodici.universa.node.Ledger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>StateRecord</h4>
<pre>public&nbsp;StateRecord(<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;ledger)</pre>
</li>
</ul>
<a name="StateRecord-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StateRecord</h4>
<pre>public&nbsp;StateRecord(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;id)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initFrom-java.sql.ResultSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initFrom</h4>
<pre>public&nbsp;void&nbsp;initFrom(java.sql.ResultSet&nbsp;rs)
              throws java.sql.SQLException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
<a name="getTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTime</h4>
<pre>public static&nbsp;java.time.ZonedDateTime&nbsp;getTime(long&nbsp;unixTime)</pre>
</li>
</ul>
<a name="unixTime-java.time.ZonedDateTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unixTime</h4>
<pre>public static&nbsp;long&nbsp;unixTime(java.time.ZonedDateTime&nbsp;time)</pre>
</li>
</ul>
<a name="isDirty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>public&nbsp;boolean&nbsp;isDirty()</pre>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/ItemState.html" title="enum in com.icodici.universa.node">ItemState</a>&nbsp;getState()</pre>
</li>
</ul>
<a name="setDirty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDirty</h4>
<pre>protected&nbsp;void&nbsp;setDirty()</pre>
</li>
</ul>
<a name="setState-com.icodici.universa.node.ItemState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setState</h4>
<pre>public final&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;setState(<a href="../../../../com/icodici/universa/node/ItemState.html" title="enum in com.icodici.universa.node">ItemState</a>&nbsp;newState)</pre>
</li>
</ul>
<a name="getId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public final&nbsp;<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;getId()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/HashIdentifiable.html#getId--">getId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/icodici/universa/HashIdentifiable.html" title="interface in com.icodici.universa">HashIdentifiable</a></code></dd>
</dl>
</li>
</ul>
<a name="getExpiresAt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiresAt</h4>
<pre>public&nbsp;java.time.ZonedDateTime&nbsp;getExpiresAt()</pre>
</li>
</ul>
<a name="getCreatedAt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreatedAt</h4>
<pre>public&nbsp;java.time.ZonedDateTime&nbsp;getCreatedAt()</pre>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
</li>
</ul>
<a name="save--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>public&nbsp;void&nbsp;save()</pre>
</li>
</ul>
<a name="isPositive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPositive</h4>
<pre>public final&nbsp;boolean&nbsp;isPositive()</pre>
</li>
</ul>
<a name="isApproved--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isApproved</h4>
<pre>public final&nbsp;boolean&nbsp;isApproved()</pre>
</li>
</ul>
<a name="isPending--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPending</h4>
<pre>public final&nbsp;boolean&nbsp;isPending()</pre>
</li>
</ul>
<a name="isNegative--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isNegative</h4>
<pre>public final&nbsp;boolean&nbsp;isNegative()</pre>
</li>
</ul>
<a name="isDeclined--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeclined</h4>
<pre>public final&nbsp;boolean&nbsp;isDeclined()</pre>
</li>
</ul>
<a name="isArchived--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isArchived</h4>
<pre>public final&nbsp;boolean&nbsp;isArchived()</pre>
</li>
</ul>
<a name="isLocked--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>public final&nbsp;boolean&nbsp;isLocked()</pre>
</li>
</ul>
<a name="getRecordId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecordId</h4>
<pre>public&nbsp;long&nbsp;getRecordId()</pre>
</li>
</ul>
<a name="getLedger--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLedger</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;getLedger()</pre>
</li>
</ul>
<a name="setLedger-com.icodici.universa.node.Ledger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLedger</h4>
<pre>public&nbsp;void&nbsp;setLedger(<a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node">Ledger</a>&nbsp;ledger)</pre>
</li>
</ul>
<a name="setRecordId-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRecordId</h4>
<pre>public&nbsp;void&nbsp;setRecordId(long&nbsp;recordId)</pre>
<div class="block">Update recordId. Normally, only <a href="../../../../com/icodici/universa/node/Ledger.html" title="interface in com.icodici.universa.node"><code>Ledger</code></a> do it, so avoid calling it. The recordId could be set only if it
 is not yet set and there is a connected ledger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordId</code> - id of record as long</dd>
</dl>
</li>
</ul>
<a name="getLockedByRecordId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLockedByRecordId</h4>
<pre>public&nbsp;long&nbsp;getLockedByRecordId()</pre>
</li>
</ul>
<a name="setLockedByRecordId-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLockedByRecordId</h4>
<pre>public&nbsp;void&nbsp;setLockedByRecordId(long&nbsp;lockedByRecordId)</pre>
</li>
</ul>
<a name="setId-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setId</h4>
<pre>public&nbsp;void&nbsp;setId(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;id)</pre>
</li>
</ul>
<a name="lockToRevoke-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockToRevoke</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;lockToRevoke(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;idToRevoke)</pre>
<div class="block">Lock the item with a given it as being revoked by this one. Check this state, looks for the record to lock and
 also checks its state first.
 <p>
 Note that the operation is allowed only to the records in <a href="../../../../com/icodici/universa/node/ItemState.html#PENDING"><code>ItemState.PENDING</code></a>. If the item is already
 checked locally and is therefore in PENDING_NEGATIVE or PENDING_POSITIVE state, it can not lock any other items.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>idToRevoke</code> - is <a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa"><code>HashId</code></a> for item should be revoked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>locked record id null if it could not be node</dd>
</dl>
</li>
</ul>
<a name="unlock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;unlock()</pre>
<div class="block">Unlock the record if it was in a locked state, does nothing otherwise.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>self <a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node"><code>StateRecord</code></a></dd>
</dl>
</li>
</ul>
<a name="revoke--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>revoke</h4>
<pre>public&nbsp;void&nbsp;revoke()</pre>
<div class="block">Set the record to the archiver (e.g. revoked) state, if it is allowed, and save. Trows <code>IllegalStateException</code> if current state does not allow revocation. Note that the normal states graph allows
 revokation only from <a href="../../../../com/icodici/universa/node/ItemState.html#LOCKED"><code>ItemState.LOCKED</code></a> state!</div>
</li>
</ul>
<a name="approve--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>approve</h4>
<pre>public&nbsp;void&nbsp;approve()</pre>
<div class="block">Set record to the approved state and saves it. Note that this process does not resolve any dependencies as for
 now and does not revoke any records locked for revocation. This could be changed though.</div>
</li>
</ul>
<a name="createOutputLockRecord-com.icodici.universa.HashId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createOutputLockRecord</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;createOutputLockRecord(<a href="../../../../com/icodici/universa/HashId.html" title="class in com.icodici.universa">HashId</a>&nbsp;id)</pre>
<div class="block">Create a record, locked for approval, e.g. item that will be creared (and approved) by current item if it will
 get the positive consensus. Throws <code>IllegalStateException</code> if this record is not in a proper state to
 perform this operation, e.g. not is in <a href="../../../../com/icodici/universa/node/ItemState.html#PENDING"><code>ItemState.PENDING</code></a> - what means, the local check is not yet
 finished.
 <p>
 Note that items that are already locally checked (<a href="../../../../com/icodici/universa/node/ItemState.html#PENDING_NEGATIVE"><code>ItemState.PENDING_NEGATIVE</code></a> or <a href="../../../../com/icodici/universa/node/ItemState.html#PENDING_POSITIVE"><code>ItemState.PENDING_POSITIVE</code></a> can not create any output locks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id of the new item to be locked for approval</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the record of the new item locked for creatoin pn success, null it such item already exists and not
 locked for apporoval by us.</dd>
</dl>
</li>
</ul>
<a name="setExpiresAt-java.time.ZonedDateTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiresAt</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;setExpiresAt(@NonNull java.time.ZonedDateTime&nbsp;expiresAt)</pre>
</li>
</ul>
<a name="isExpired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public&nbsp;boolean&nbsp;isExpired()</pre>
</li>
</ul>
<a name="setCreatedAt-java.time.ZonedDateTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCreatedAt</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;setCreatedAt(@NonNull java.time.ZonedDateTime&nbsp;createdAt)</pre>
</li>
</ul>
<a name="markTestRecord--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markTestRecord</h4>
<pre>public&nbsp;void&nbsp;markTestRecord()</pre>
</li>
</ul>
<a name="reload--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reload</h4>
<pre>public&nbsp;<a href="../../../../com/icodici/universa/node/StateRecord.html" title="class in com.icodici.universa.node">StateRecord</a>&nbsp;reload()
                   throws <a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node">StateRecord.NotFoundException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node">StateRecord.NotFoundException</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/icodici/universa/node/SqliteLedger.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/icodici/universa/node/StateRecord.NotFoundException.html" title="class in com.icodici.universa.node"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/icodici/universa/node/StateRecord.html" target="_top">Frames</a></li>
<li><a href="StateRecord.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
